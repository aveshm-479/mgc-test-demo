import{j as e,b as i,d as t,av as L,B as w,a7 as N,al as P,t as U,x as V,e as C,f as k,O as $,aw as G,z as D,q as W,_ as v,V as S,W as q,X as H,Y as X,a5 as h,Z as T,a9 as Y,aa as Z,ab as _,w as J,$ as K,U as Q}from"./mui-vendor-B9ia8S_J.js";import{r as x}from"./react-vendor-Dc2dUCgt.js";import{u as ee,s as re,b as se,c as g}from"./index-BuZ2PVIs.js";import{S as p,M as ie}from"./ModernCard-OCZcHO9e.js";import{m as O}from"./framer-motion-BW_lnxQT.js";const de=()=>{const{user:f}=ee(),[n,u]=x.useState([]),[E,d]=x.useState(!1),[b,y]=x.useState(null),[o,c]=x.useState({name:"",email:"",role:"admin",assignedClubs:[]});x.useEffect(()=>{const r=re.filter(s=>s.role==="admin"&&s.createdBy===f?.id);u(r)},[f]);const F=()=>{const r={id:`admin-${Date.now()}`,name:o.name,email:o.email,role:"admin",createdAt:new Date,createdBy:f?.id};u([...n,r]),d(!1),A()},z=r=>{y(r),c({name:r.name,email:r.email,role:"admin",assignedClubs:r.assignedClubs||[]}),d(!0)},B=r=>{u(n.filter(s=>s.id!==r))},A=()=>{c({name:"",email:"",role:"admin",assignedClubs:[]}),y(null)},I=()=>{d(!1),A()},m=r=>{const s=g.filter(l=>l.assignedAdminId===r),a=s.reduce(l=>l+Math.floor(Math.random()*5e4)+1e4,0);return{clubs:s.length,revenue:a,visitors:Math.floor(Math.random()*100)+20}},R=r=>g.filter(s=>s.assignedAdminId===r),{mode:j}=se();return e.jsx(i,{sx:{p:3,position:"relative",minHeight:"100%"},children:e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:e.jsx(t,{variant:"h4",sx:{color:"#3b82f6",fontWeight:"bold"},children:"Admin Management"})}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(4, 1fr)"},gap:3,mb:4},children:[e.jsx(p,{title:"Total Admins",value:n.length,icon:e.jsx(L,{}),color:"#3b82f6"}),e.jsx(p,{title:"Total Clubs",value:n.reduce((r,s)=>r+m(s.id).clubs,0),icon:e.jsx(w,{}),color:"#8b5cf6"}),e.jsx(p,{title:"Total Revenue",value:`₹${n.reduce((r,s)=>r+m(s.id).revenue,0).toLocaleString()}`,icon:e.jsx(N,{}),color:"#10b981"}),e.jsx(p,{title:"Total Visitors",value:n.reduce((r,s)=>r+m(s.id).visitors,0),icon:e.jsx(P,{}),color:"#f59e0b"})]}),e.jsx(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:3},children:n.map((r,s)=>{const a=m(r.id),l=R(r.id);return e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},children:e.jsxs(ie,{children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(U,{sx:{bgcolor:"#3b82f6",mr:2},children:e.jsx(V,{})}),e.jsxs(i,{children:[e.jsx(t,{variant:"h6",sx:{color:"#3b82f6",fontWeight:"bold"},children:r.name}),e.jsx(t,{variant:"body2",sx:{color:"#888"},children:r.email})]}),e.jsxs(i,{sx:{ml:"auto"},children:[e.jsx(C,{title:"Edit Admin",children:e.jsx(k,{onClick:()=>z(r),sx:{color:"#3b82f6"},children:e.jsx($,{})})}),e.jsx(C,{title:"Delete Admin",children:e.jsx(k,{onClick:()=>B(r.id),sx:{color:"#ef4444"},children:e.jsx(G,{})})})]})]}),e.jsx(D,{sx:{my:2,borderColor:"rgba(59, 130, 246, 0.2)"}}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2},children:[e.jsxs(i,{sx:{textAlign:"center"},children:[e.jsx(t,{variant:"h4",sx:{color:"#3b82f6",fontWeight:"bold"},children:a.clubs}),e.jsx(t,{variant:"body2",sx:{color:j==="dark"?"rgba(255, 255, 255, 0.7)":"#000000"},children:"Clubs"})]}),e.jsxs(i,{sx:{textAlign:"center"},children:[e.jsx(t,{variant:"h4",sx:{color:"#10b981",fontWeight:"bold"},children:a.visitors}),e.jsx(t,{variant:"body2",sx:{color:j==="dark"?"rgba(255, 255, 255, 0.7)":"#000000"},children:"Visitors"})]}),e.jsxs(i,{sx:{textAlign:"center"},children:[e.jsxs(t,{variant:"h4",sx:{color:"#f59e0b",fontWeight:"bold"},children:["₹",(a.revenue/1e3).toFixed(0),"k"]}),e.jsx(t,{variant:"body2",sx:{color:j==="dark"?"rgba(255, 255, 255, 0.7)":"#000000"},children:"Revenue"})]})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(D,{sx:{my:2,borderColor:"rgba(59, 130, 246, 0.2)"}}),e.jsx(t,{variant:"h6",sx:{color:"#888"},children:"Assigned Clubs"}),e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:l.map(M=>e.jsx(W,{label:M.name,size:"small",sx:{bgcolor:"#3b82f6",color:"white",fontWeight:600}},M.id))})]})]})},r.id)})}),n.length===0&&e.jsxs(i,{sx:{textAlign:"center",py:8},children:[e.jsx(w,{sx:{fontSize:64,color:"rgba(255, 255, 255, 0.3)",mb:2}}),e.jsx(t,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"No admins created yet"}),e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",mb:3},children:"Create your first admin to start managing clubs"}),e.jsx(v,{variant:"contained",startIcon:e.jsx(S,{}),onClick:()=>d(!0),children:"Create Admin"})]}),e.jsxs(q,{open:E,onClose:I,PaperProps:{sx:{background:"rgba(26, 26, 26, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",color:"white"}},children:[e.jsx(H,{sx:{color:"#3b82f6",fontWeight:"bold"},children:b?"Edit Admin":"Create New Admin"}),e.jsx(X,{dividers:!0,children:e.jsxs(h,{container:!0,spacing:2,children:[e.jsx(h,{size:{xs:12},children:e.jsx(T,{autoFocus:!0,margin:"dense",label:"Name",type:"text",fullWidth:!0,variant:"outlined",value:o.name,onChange:r=>c({...o,name:r.target.value}),sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(59, 130, 246, 0.3)"},"&:hover fieldset":{borderColor:"#3b82f6"},"&.Mui-focused fieldset":{borderColor:"#3b82f6"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"}}})}),e.jsx(h,{size:{xs:12},children:e.jsx(T,{margin:"dense",label:"Email",type:"email",fullWidth:!0,variant:"outlined",value:o.email,onChange:r=>c({...o,email:r.target.value}),sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(59, 130, 246, 0.3)"},"&:hover fieldset":{borderColor:"#3b82f6"},"&.Mui-focused fieldset":{borderColor:"#3b82f6"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"}}})}),e.jsx(h,{size:{xs:12},children:e.jsxs(Y,{margin:"dense",fullWidth:!0,children:[e.jsx(Z,{sx:{color:"rgba(255, 255, 255, 0.7)"},children:"Assigned Clubs"}),e.jsx(_,{multiple:!0,value:o.assignedClubs,onChange:r=>c({...o,assignedClubs:r.target.value}),renderValue:r=>e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.map(s=>e.jsx(W,{label:g.find(a=>a.id===s)?.name||s,size:"small",sx:{bgcolor:"#3b82f6",color:"white",fontWeight:600}},s))}),sx:{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(59, 130, 246, 0.3)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#3b82f6"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#3b82f6"},"& .MuiSvgIcon-root":{color:"rgba(255, 255, 255, 0.7)"}},children:g.map(r=>e.jsx(J,{value:r.id,children:r.name},r.id))})]})})]})}),e.jsxs(K,{sx:{borderTop:"1px solid rgba(59, 130, 246, 0.2)",p:2},children:[e.jsx(v,{onClick:I,sx:{color:"rgba(255, 255, 255, 0.7)"},children:"Cancel"}),e.jsx(v,{onClick:b?()=>u(n.map(r=>r.id===b.id?{...r,...o}:r)):F,variant:"contained",sx:{background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",fontWeight:600},children:b?"Save Changes":"Create Admin"})]})]}),e.jsx(C,{title:"Create New Admin",placement:"left",children:e.jsx(Q,{color:"primary",onClick:()=>d(!0),sx:{position:"fixed",bottom:32,right:32,background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.5)","&:hover":{background:"linear-gradient(135deg, #2563eb, #1d4ed8)",boxShadow:"0 6px 16px rgba(59, 130, 246, 0.6)"}},children:e.jsx(S,{})})})]})})};export{de as AdminManagementPage};
