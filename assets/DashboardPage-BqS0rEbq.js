import{j as e,R as f,P as k,a6 as P,a7 as V,b as x,d as o,G as b,H as v,L as B,i as A,a8 as E,t as C,l as S,q as H,z as T}from"./mui-vendor-B9ia8S_J.js";import{a as O}from"./react-vendor-Dc2dUCgt.js";import{u as q,a as G,b as w}from"./index-CqppG3Ma.js";import{m as s}from"./framer-motion-BW_lnxQT.js";const $=({title:u,value:i,icon:h,trend:m})=>{const{mode:r}=w();return e.jsxs(b,{component:s.div,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-4,boxShadow:r==="dark"?"0 12px 40px rgba(0, 0, 0, 0.4)":"0 12px 40px rgba(0, 0, 0, 0.15)"},transition:{duration:.2,ease:"easeOut"},sx:{p:3,textAlign:"center",background:r==="dark"?"#1E293B":"#F8FAFC",backdropFilter:"blur(10px)",border:r==="dark"?"1px solid #475569":"1px solid #E2E8F0",borderRadius:"16px",boxShadow:r==="dark"?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.1)",cursor:"pointer"},children:[e.jsx(x,{sx:{mb:1.5,color:r==="dark"?"#3B82F6":"#2563EB"},children:e.jsx(s.div,{whileHover:{scale:1.1},transition:{duration:.2},children:h})}),e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[e.jsx(o,{variant:"h4",sx:{color:r==="dark"?"#3B82F6":"#2563EB",fontWeight:"bold",mb:.5},children:i}),e.jsx(o,{variant:"body1",sx:{color:r==="dark"?"#94A3B8":"#64748B",fontWeight:"medium"},children:u}),m&&e.jsx(o,{variant:"caption",sx:{color:r==="dark"?"#94A3B8":"#64748B",mt:1,display:"block"},children:m})]})]})},U=()=>{const{user:u}=q(),{visitors:i,clubs:h,getOverallConsumedProductCount:m}=G(),{mode:r}=w(),D=new Date,p=i.filter(t=>t.visitDate.toDateString()===D.toDateString()),M=m(),y={visitors:p.filter(t=>t.type==="visitor").length,trials:p.filter(t=>t.type==="trial").length,members:p.filter(t=>t.type==="member").length,revenue:p.reduce((t,a)=>t+(a.payments?.filter(n=>n.status==="completed").reduce((n,d)=>n+d.amount,0)||0),0)},R=i.filter(t=>t.type==="member").length,W=i.reduce((t,a)=>{const n=new Date(a.visitDate).getMonth(),d=new Date().getMonth();return n===d?t+(a.payments?.filter(l=>l.status==="completed").reduce((l,c)=>l+c.amount,0)||0):t},0),z=[{title:"Consumed Today",value:M,icon:e.jsx(f,{sx:{fontSize:32}}),trend:"",color:r==="dark"?"#3B82F6":"#2563EB"},{title:"Today Visitors",value:y.visitors,icon:e.jsx(k,{sx:{fontSize:32}}),trend:"+12% from yesterday",color:r==="dark"?"#3B82F6":"#2563EB"},{title:"Today Trials",value:y.trials,icon:e.jsx(P,{sx:{fontSize:32}}),trend:"+5% from yesterday",color:r==="dark"?"#3B82F6":"#2563EB"},{title:"Today Members",value:y.members,icon:e.jsx(f,{sx:{fontSize:32}}),trend:"+8% from yesterday",color:r==="dark"?"#3B82F6":"#2563EB"},{title:"Total Members",value:R,icon:e.jsx(k,{sx:{fontSize:32}}),trend:"All time",color:r==="dark"?"#3B82F6":"#2563EB"},{title:"Monthly Revenue",value:`₹${W.toLocaleString()}`,icon:e.jsx(V,{sx:{fontSize:32}}),trend:"+15% from last month",color:r==="dark"?"#3B82F6":"#2563EB"}],F=i.slice(0,5),j=h.map(t=>{const a=i.filter(d=>d.clubId===t.id),n=a.reduce((d,l)=>d+(l.payments?.filter(c=>c.status==="completed").reduce((c,I)=>c+I.amount,0)||0),0);return{...t,visitorCount:a.length,revenue:n}}).sort((t,a)=>a.revenue-t.revenue).slice(0,3),g=t=>{switch(t){case"member":return r==="dark"?"#3B82F6":"#2563EB";case"trial":return r==="dark"?"#F59E0B":"#D97706";default:return r==="dark"?"#94A3B8":"#64748B"}},L=t=>{switch(t){case"member":return"Member";case"trial":return"Trial";default:return"Visitor"}};return e.jsxs(x,{sx:{minHeight:"100vh",background:r==="dark"?"#0F172A":"#FFFFFF",p:3},children:[e.jsxs(x,{sx:{mb:4},children:[e.jsxs(o,{variant:"h4",sx:{color:r==="dark"?"#3B82F6":"#2563EB",fontWeight:"bold",mb:1},children:["Welcome back, ",u?.name]}),e.jsx(o,{variant:"body1",sx:{color:r==="dark"?"#94A3B8":"#64748B",fontWeight:"medium"},children:"Here's what's happening with your wellness clubs today"})]}),e.jsx(x,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:3,mb:4},children:z.map((t,a)=>e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.1,ease:"easeOut"},children:e.jsx($,{...t})},a))}),e.jsxs(x,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"2fr 1fr"},gap:3},children:[e.jsx(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:e.jsx(b,{sx:{background:r==="dark"?"#1E293B":"#F8FAFC",backdropFilter:"blur(20px)",border:r==="dark"?"1px solid #475569":"1px solid #E2E8F0",borderRadius:"16px"},children:e.jsxs(v,{children:[e.jsx(o,{variant:"h6",sx:{color:r==="dark"?"#F8FAFC":"#0F172A",fontWeight:"bold",mb:2},children:"Recent Activity"}),e.jsx(B,{children:F.map((t,a)=>e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:a*.1},children:[e.jsxs(A,{sx:{px:0},children:[e.jsx(E,{children:e.jsx(C,{sx:{bgcolor:g(t.type),color:"#000"},children:t.name.charAt(0)})}),e.jsx(S,{primary:e.jsx(o,{sx:{color:r==="dark"?"#F8FAFC":"#0F172A",fontWeight:"medium"},children:t.name}),secondary:e.jsxs(O.Fragment,{children:[e.jsx(H,{label:L(t.type),size:"small",component:"span",sx:{bgcolor:g(t.type),color:r==="dark"?"#000":"#fff",fontWeight:600,mr:1}}),e.jsx(o,{component:"span",variant:"body2",sx:{color:r==="dark"?"#94A3B8":"#64748B"},children:new Date(t.visitDate).toLocaleDateString()})]})})]}),a<F.length-1&&e.jsx(T,{sx:{borderColor:r==="dark"?"#475569":"#E2E8F0"}})]},t.id))})]})})}),e.jsx(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:e.jsx(b,{sx:{background:r==="dark"?"#1E293B":"#F8FAFC",backdropFilter:"blur(20px)",border:r==="dark"?"1px solid #475569":"1px solid #E2E8F0",borderRadius:"16px"},children:e.jsxs(v,{children:[e.jsx(o,{variant:"h6",sx:{color:r==="dark"?"#F8FAFC":"#0F172A",fontWeight:"bold",mb:2},children:"Top Performing Clubs"}),e.jsx(B,{children:j.map((t,a)=>e.jsxs(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:a*.1},children:[e.jsxs(A,{sx:{px:0},children:[e.jsx(E,{children:e.jsx(C,{sx:{bgcolor:r==="dark"?"#3B82F6":"#2563EB",color:"#fff"},children:t.name.charAt(0)})}),e.jsx(S,{primary:e.jsx(o,{sx:{color:r==="dark"?"#F8FAFC":"#0F172A",fontWeight:"medium"},children:t.name}),secondary:e.jsxs(o,{variant:"body2",sx:{color:r==="dark"?"#94A3B8":"#64748B"},children:[t.visitorCount," Visitors • ₹",t.revenue.toLocaleString()," Revenue"]})})]}),a<j.length-1&&e.jsx(T,{sx:{borderColor:r==="dark"?"#475569":"#E2E8F0"}})]},t.id))})]})})})]})]})};export{U as DashboardPage};
